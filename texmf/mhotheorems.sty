%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
%             _             _
%            | |           | |
%  _ __ ___  | |__    ___  | | ___   ___   _ __       ___   ___   _ __ ___
% | '_ ` _ \ | '_ \  / _ \ | |/ __| / _ \ | '_ \     / __| / _ \ | '_ ` _ \
% | | | | | || | | || (_) || |\__ \| (_) || | | | _ | (__ | (_) || | | | | |
% |_| |_| |_||_| |_| \___/ |_||___/ \___/ |_| |_|(_) \___| \___/ |_| |_| |_|
%
% File: mhotheorems.sty
% Author: Mark H. Olson
% Website: https://mholson.com
% Github: https://github.com
%
% Created: 2021-05-25
%
% Description: Using mdframe, for the framing of theorems, and thmtools
% to generate custom theorem blocks. This package is dependent upon either the 
% nordcolors.sty or sthml.sty color themes being installed.
%
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=

\ProvidesPackage{mhotheorems}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	PACKAGE OPTIONS & SETUP
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\let\openbox\relax % Workaround to get rid of an annoying error
\RequirePackage{xkeyval} % Manage package options
\RequirePackage{amsthm} % Mathematical environments
\RequirePackage{thmtools} % Theorem styles
\RequirePackage{tikz} % Colorful boxes
\RequirePackage[framemethod=TikZ]{mdframed}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	DEFAULT COLORS USED
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\newcommand{\sthlmbackground}{\cnNordFour}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	BOX GEOMETRY
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\mdfsetup{skipabove=\topskip,skipbelow=0pt}%-.5\topskip}
\mdfdefinestyle{mdfkao}{
	skipabove=\topskip,
	skipbelow=\topskip, % Does not work :(
	rightmargin=0pt,
	leftmargin=0pt,
	innertopmargin=14pt,
	innerbottommargin=3pt,
	innerrightmargin=5pt,
	innerleftmargin=5pt,
	topline=false,
	bottomline=false,
	rightline=false,
	leftline=true,
	linewidth=3pt,
	%roundcorner=0pt,
	%font={},
	%frametitlefont={},
	frametitlerule=true,
	%linecolor=black,
	%backgroundcolor=LightBlue,
	%fontcolor=black,
	%frametitlebackgroundcolor=LightBlue,
}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	THEOREM STRUCTURE STYLES
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% > > > PLAIN
\declaretheoremstyle[
	%spaceabove=.5\thm@preskip,
	%spacebelow=.5\thm@postskip,
	%headfont=\normalfont\bfseries,%\scshape,
	%notefont=\normalfont, notebraces={ (}{)},
	bodyfont=\normalfont\itshape,
	%headformat={\NAME\space\NUMBER\space\NOTE},
	headpunct={},
	%postheadspace={.5em plus .1em minus .1em},
	%prefoothook={\hfill\qedsymbol}
]{kaoplain}
% > > > DEFINITION
\declaretheoremstyle[
	%spaceabove=.5\thm@preskip,
	%spacebelow=.5\thm@postskip,
	%headfont=\normalfont\bfseries,%\scshape,
	%notefont=\normalfont, notebraces={ (}{)},
	bodyfont=\normalfont,
	%headformat={\NAME\space\NUMBER\space\NOTE},
	headpunct={},
	postheadspace={.5em plus .1em minus .1em},
	%prefoothook={\hfill\qedsymbol}
]{kaodefinition}
% > > > EXAMPLE
\declaretheoremstyle[
	%spaceabove=.5\thm@preskip,
	%spacebelow=.5\thm@postskip,
	%headfont=\normalfont\bfseries,
	%notefont=\normalfont, notebraces={ (}{)},
	%bodyfont=\normalfont,
	%headformat={\NAME\space\NUMBER\space\NOTE},
	headpunct={},
	postheadspace={.5em plus .1em minus .1em},
	%prefoothook={\hfill\qedsymbol}
	%refname={theorem,theorems},
	%Refname={Theorem,Theorems},
]{kaoexample}
% > > > LESSON PLANS 
\declaretheoremstyle[
	%spaceabove=.5\thm@preskip,
	%spacebelow=.5\thm@postskip,
	%headfont=\normalfont\bfseries,
	%notefont=\normalfont, notebraces={ (}{)},
	%bodyfont=\small,
	headformat={\NAME\space\NUMBER},
	%headpunct={},
	postheadspace={.5em plus .1em minus .1em},
	%prefoothook={\hfill\qedsymbol}
	%refname={theorem,theorems},
	%Refname={Theorem,Theorems},
]{kaoplans}
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	THEOREM BLOCK STYLES
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% > > > THEOREM
\theoremstyle{kaoplain}
\declaretheorem[
	name=Theorem,
	style=kaoplain,
	%refname={theorem,theorems},
	refname={Theorem,Theorems},
	Refname={Theorem,Theorems},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{theorem}
% > > > PROPOSITION
\declaretheorem[
	name=Proposition,
	%refname={proposition,propositions},
	refname={Proposition,Propositions},
	Refname={Proposition,Propositions},
	sibling=theorem,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{proposition}
% > > > LAW
\declaretheorem[
	name=Law,
	%refname={law,laws},
	refname={Law,Laws},
	Refname={Law,Laws},
	sibling=theorem,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{law}
% > > > RULE
\declaretheorem[
	name=Rule,
	%refname={rule,rules},
	refname={Rule,Rules},
	Refname={Rule,Rules},
	sibling=theorem,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{trule}
% > > > AXIOM
\declaretheorem[
	name=Axiom,
	%refname={axiom,axioms},
	refname={Axiom,Axioms},
	Refname={Axiom,Axioms},
	sibling=theorem,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{axiom}
% > > > ASSUMPTION
\declaretheorem[
	name=Assumption,
	%refname={assumption,assumptions},
	refname={Assumption,Assumptions},
	Refname={Assumption,Assumptions},
	sibling=theorem,
	mdframed={
		style=mdfkao,
		linecolor = \cnPurple,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{assumption}
% > > > DEFINITION
\theoremstyle{kaodefinition}
\declaretheorem[
	name=Definition,
	%refname={definition,definitions},
	refname={Definition,Definitions},
	Refname={Definition,Definitions},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor = \cnBlue,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{definition}
% > > > ALGORITHM
\declaretheorem[
	name=Algorithm,
	%refname={algorirthm,algorirthms},
	refname={Algorithm,Algorithms},
	Refname={Algorithm,Algorithms},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{algo}
% > > > PYTHON
\declaretheorem[
	name=Python,
	%refname={python,python},
	refname={Python,Python},
	Refname={Python,Python},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPythonBlue,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{python}
% > > > NOTATION
\declaretheorem[
	name=Notation,
	%refname={notation,notations},
	refname={Notation,Notations},
	Refname={Notation,Notations},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnOrange,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{notation}
% > > > REMARK
\declaretheorem[
	name=Remark,
	%refname={remark,remarks},
	refname={Remark,Remarks},
	Refname={Remark,Remarks},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnRed,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{remark}
% > > > EXAMPLE
\theoremstyle{kaoexample}
\declaretheorem[
	name=Example,
	%refname={example,examples},
	refname={Example,Examples},
	Refname={Example,Examples},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPrimaryGreen,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{example}
% > > > SOLUTION
\declaretheorem[
	name=Solution,
	%refname={solution,solutions},
	refname={Solution,Solutions},
	Refname={Solution,Solutions},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPrimaryLightGreen,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{solution}
% > > > ESSENTIAL QUESTION
\theoremstyle{kaoplans}
\declaretheorem[
	name=EssentialQuestion,
	%refname={essentialQuestion,essentialQuestions},
	refname={EssentialQuestion,EssentialQuestions},
	Refname={EssentialQuestion,EssentialQuestions},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPrimaryGreen,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{essentialquestion}
% > > > OBJECTIVE
\declaretheorem[
	name=Objective,
	%refname={objective,objectives},
	refname={Objective,Objectives},
	Refname={Objective,Objectives},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPrimaryGreen,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{objective}
% > > > WORK
\declaretheorem[
	name=Work,
	%refname={work,work},
	refname={Work,Work},
	Refname={Work,Work},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnOrange,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{work}
% > > > PLANNING
\declaretheorem[
	name=Planning,
	%refname={planning,planning},
	refname={Planning,Planning},
	Refname={Planning,Planning},
	numberwithin=section,
	mdframed={
		style=mdfkao,
		linecolor=\cnPrimaryLightGreen,
		backgroundcolor=\sthlmbackground,
		%frametitlebackgroundcolor=\@theorembackground,
	},
]{planning}

\renewcommand{\qedsymbol}{\(\cPrimaryGreen{\blacksquare}\)}

%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
% End of file `mhotheorems.sty'.
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=